datasets:
  sequence-size: 3 # must be >= 1
  combinations: [[0, 1], [1, 2], [2, 3]]
  kitti:
    root-path-sync: "datasets/KITTI/sync"
    root-path-unsync: "datasets/KITTI/extract"
    image-width: 720
    image-height: 64
    crop-factors: [0, 0] # [0, 4] # top, left
    fov-up: 3.
    fov-down: -25.
    max-depth: 50.
    min-depth: 1.
    inverse-depth: true
    train:
      #2011-10-03: [27, 42, 34]
      #2011-09-30: [16, 18, 20, 27, 28]
      2011-10-03: [27]
      2011-09-30: [16, 18, 20]
    test:
      2011-10-03: [27, 42, 34]
      2011-09-30: [16, 18, 20, 27, 28, 33, 34]
    validation:
      #2011-09-26: [23, 39]
      2011-09-30: [33, 34]

    # channesl: x, y, z, remission, nx, ny ,nz, range)
    mean-image: [-0.0124, 0.3444, -0.9382, 0.236, -0.0022, 0.0046, 0.4149, 0.1178]
    std-image: [8.7207, 6.8577, 0.8232, 0.1719, 0.3388, 0.441, 0.5708, 0.0873]

    mean-imu: [-0.0685, 0.1672, 9.7967, -0., 0.0006, 0.0059]
    std-imu: [0.8766, 0.9528, 0.3471, 0.0204, 0.0227, 0.1412]


### DeepLIO Network ##############################
deeplio:
  dropout: 0.25
  pretrained: false
  model-path: ""
  lidar-feat-net:
    name: "lidar-feat-pointseg"
    pretrained: false
    model-path: ""
  imu-feat-net:
    name: #"imu-feat-rnn"
    pretrained: false
    model-path: ""
  odom-feat-net:
    name: "odom-feat-rnn"
    pretrained: false
    model-path: ""
  fusion-net:
    name: "fusion-layer-soft"

### Lidar Feature Netowrks ###########################
# feature network simple0 with conv layers

# feature network pointseg
lidar-feat-pointseg:  # pointseg feature
  dropout: 0.25
  classes: ['unknown', 'object']
  bypass: true
  fusion: add # [cat, sub, add]
  part: "encoder" # [encoder, encoder+decoder]

lidar-feat-flownet:
  dropout: 0.25
  fusion: add # [cat, sub, add]

lidar-feat-resnet:
  dropout: 0.
  fusion: add # [cat, sub, add]

# feature network simple0 with bypassed conv layers
lidar-feat-simple-1:
  dropout: 0.
  fusion: add # [cat, sub, add]
  bypass: false

### IMU Feature Netowrks ###########################
# IMU Feature Netowrks
imu-feat-fc:  # FC
  input-size: 6  # !fixed! do not chanage
  hidden-size: [1024, 512, 256]
  dropout: 0.25

imu-feat-rnn: # RNN
  type: "lstm"
  input-size: 6  # !fixed! do not chanage
  hidden-size: 128
  num-layers: 2
  bidirectional: true
  dropout: 0.25

### Fusion-Layer for DeepLIO Net ###########################
fusion-layer-cat:
  type: "cat" # [cat]

fusion-layer-soft:
  type: "soft" # [soft]

### Odometry Feature Netowrks ###########################
# odometry feature network with fully connected layers
odom-feat-fc:
  size: [256]
  dropout: 0.

# odometry feature network with rnn-layers
odom-feat-rnn:
  type: "lstm"
  hidden-size: 256
  num-layers: 2
  bidirectional: true
  dropout: 0.

### Loss Configurations ###########################
losses:
  active: 'hwsloss'
  hwsloss:
    params:
      learn: true
      sx: -3.
      sq: -3.
  lwsloss:
    params:
      beta: 1125.
  geoloss:
    params:

current-dataset: 'kitti'
channels: [0, 1, 2, 4, 5, 6]  # channesl: x, y, z, remission, nx, ny. nz range
optimizer: 'adam'